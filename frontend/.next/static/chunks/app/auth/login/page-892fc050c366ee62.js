(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{6641:(e,a,t)=>{Promise.resolve().then(t.bind(t,7868))},7868:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>c});var s=t(7437),r=t(2265),l=t(7138),n=t(7019),o=t(1444),i=t(490),d=t(6463);function c(){let e=(0,d.useRouter)(),a=(0,o.I0)(),[t,c]=(0,r.useState)({userId:"",password:"",terms:!1}),m=async s=>{if(!t.terms){a((0,i.r)({throwMe:"Terms must be provided"}));return}let r=await a((0,i.r)({url:"/auth/login",method:"POST",data:s})).unwrap();r.token&&r.user&&(localStorage.setItem("user",JSON.stringify(r.user)),localStorage.setItem("Authorization",r.token),e.push("/"))};return(0,s.jsxs)("div",{className:"lg:w-[75rem] md:w-[83.3%] px-8 pt-[1.875em]  mx-auto ",children:[(0,s.jsx)("img",{src:"/images/logo.svg",alt:"Logo",className:"w-[7.75rem] md:mx-8"}),(0,s.jsxs)("div",{className:"flex justify-between md:gap-[5.9375rem] md:p-8",children:[(0,s.jsx)("img",{src:"/images/signup.svg",alt:"Logo",className:" h-full hidden lg:block"}),(0,s.jsxs)("div",{className:"grow",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-[2.625rem] font-bold mb-[1.3125rem]",children:"Login"}),(0,s.jsx)("p",{className:" mb-[2.0625rem]",children:"Letâ€™s get you all st up so you can access your personal account."})]}),(0,s.jsx)(n.Z,{model:t,fields:[{name:"userId",label:"Username",type:"text",placeholder:"Enter your name",class:"border-2 border-gray-300 rounded-lg p-2",validation:{required:!0,string:!0,min:2,max:50}},{name:"password",label:"Password",type:"password",placeholder:"Enter your password",class:"border-2 border-gray-300 rounded-lg p-2",validation:{required:!0}}],onSubmit:m,custom_className:{main:"flex flex-col gap-4"},rest:(0,s.jsxs)("div",{className:"flex gap-2 col-span-2 items-center",children:[(0,s.jsx)("input",{type:"checkbox",className:"w-4 h-4",checked:t.terms,onChange:e=>c({...t,terms:e.target.checked})}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsxs)("p",{className:"text-[10px] md:text-[16px]",children:["I agree to all the"," "]}),(0,s.jsxs)("p",{className:"text-[10px] md:text-[16px]",children:[(0,s.jsx)("span",{className:"text-[#A052C6]",children:"Terms"})," and clear"]}),(0,s.jsx)("p",{className:"text-[10px] md:text-[16px]",children:(0,s.jsx)("span",{className:"text-[#A052C6]",children:"Privacy Policies"})})]})]})}),(0,s.jsxs)("div",{className:"flex justify-center items-center mb-4",children:["Don't have an account?"," ",(0,s.jsxs)(l.default,{href:"/auth/signup",className:"text-[#A052C6]",children:["Signup"," "]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center flex-col md:flex-row gap-4",children:[(0,s.jsx)("p",{children:"Or Sin up with"}),(0,s.jsx)("div",{className:"border-[1px] border-black px-16 py-4 rounded-lg",children:"google"}),(0,s.jsx)("div",{className:"border-[1px] border-black px-16 py-4 rounded-lg",children:"facebook"})]})]})]})]})}},490:(e,a,t)=>{"use strict";t.d(a,{Z:()=>d,r:()=>o});var s=t(6862);let r=t(8472).Z.create({baseURL:"https:/ofenup.waqarahmad.online/api"});r.interceptors.request.use(async e=>{var a;let t=await (null===(a=localStorage)||void 0===a?void 0:a.getItem("Authorization"));return t&&(e.headers.Authorization=t),e},e=>Promise.reject(e));var l=t(4379),n=t.n(l);let o=(0,s.hg)("api/fetchData",async(e,a)=>{let{url:t,method:s="GET",data:l=null,type:n="json",throwMe:o=null}=e,{rejectWithValue:d}=a;if(o)return i("error",!0===o?"Image is required":o),d(o);if(!t)return i("error","URL is required"),d("URL is required");let c={"Content-Type":"form"===n.toLowerCase()?"multipart/form-data":"application/json"};if("form"===n.toLowerCase()&&l){let e=new FormData;Object.keys(l).forEach(a=>{Array.isArray(l[a])?e.append(a,JSON.stringify(l[a])):e.append(a,l[a])}),l=e}try{let e={headers:c,method:s,url:t,data:l},a=await r(e);if(a.error)return i("error",a.data.error,null),d(a.data.error);return i("success",a.data.message,3e3),a.data}catch(s){let{status:e,data:a}=s.response||{},t=(null==a?void 0:a.message)||(null==a?void 0:a.error)||({401:"Authentication failed: Wrong credentials",404:"Resource not found: The requested endpoint does not exist",500:"Server error: Please try again later",400:"Bad request: Invalid input or parameters",403:"Access denied: You do not have permission to perform this action",409:"Conflict: Data already exists or is in conflict"})[e]||"Unexpected error";return i("error",t),d(t)}}),i=function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;n().fire({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:t,showCloseButton:!0,customClass:{popup:"color-".concat(e)},target:document.getElementById(e+"-toast"),title:a})},d=(0,s.oM)({name:"api",initialState:{data:null,status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(o.pending,e=>{e.status="loading",i("loading",'<div class="flex gap-4 items-center"><img src="/images/O.svg" class="w-8 h-8  animate-spin"><img src="/images/logo.svg" class="h-8"></div>',null)}).addCase(o.fulfilled,(e,a)=>{e.status="succeeded",e.data=a.payload,e.error=null}).addCase(o.rejected,(e,a)=>{e.status="failed",e.error=a.payload||"Fetch failed"})}}).reducer},7019:(e,a,t)=>{"use strict";t.d(a,{Z:()=>l});var s=t(7437),r=t(2265);let l=e=>{let{fields:a,model:t,custom_class:l,onSubmit:n,rest:o}=e,[i,d]=(0,r.useState)([]),[c,m]=(0,r.useState)({...t});(0,r.useEffect)(()=>{d(a.map(e=>({...e,showPass:"password"===e.type?e.showPass||!1:void 0}))),a.forEach(e=>{var a;"select"===e.type&&(null===(a=e.options)||void 0===a?void 0:a.length)>0&&m(a=>({...a,[e.name]:e.options[0].name}))})},[a]);let u=e=>{d(a=>a.map((a,t)=>t===e&&"password"===a.type?{...a,showPass:!a.showPass}:a))},p=(e,a)=>{let{name:t,value:s}=a.target;m(e=>({...e,[t]:s})),d(a=>a.map((a,t)=>{if(t===e){let e=h(a,s);return{...a,error:e}}return a}))},h=(e,a)=>{var t,s,r,l,n,o;return(null===(t=e.validation)||void 0===t?void 0:t.required)&&!a?"".concat(e.name," is required"):(null===(s=e.validation)||void 0===s?void 0:s.string)&&"string"!=typeof a?"".concat(e.name," must be a string"):(null===(r=e.validation)||void 0===r?void 0:r.number)&&isNaN(Number(a))?"".concat(e.name," must be a number"):(null===(l=e.validation)||void 0===l?void 0:l.min)&&a.length<e.validation.min?"".concat(e.name," must be greater than ").concat(e.validation.min," characters"):(null===(n=e.validation)||void 0===n?void 0:n.max)&&a.length>e.validation.max?"".concat(e.name," must be smaller than ").concat(e.validation.max," characters"):(null===(o=e.validation)||void 0===o?void 0:o.email)&&!/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(a)?"Invalid email format for ".concat(e.name):null};return(0,s.jsxs)("div",{className:(null==l?void 0:l.main)||"md:grid md:grid-cols-2 md:gap-[1.25rem] flex flex-col gap-2",children:[i.map((e,a)=>(0,s.jsxs)("div",{className:e.MainClass,children:[(0,s.jsx)("label",{className:"mb-2 text-sm font-medium text-default-900 ml-2  w-full ",htmlFor:e.name,children:e.label}),"textarea"===e.type&&(0,s.jsx)("textarea",{id:e.name,name:e.name,placeholder:e.placeholder,className:"rounded-lg px-4 py-2.5 w-full ".concat(e.class),value:c[e.name],onChange:e=>p(a,e)}),"select"===e.type&&(0,s.jsx)("select",{id:e.name,name:e.name,className:"rounded-lg px-4 py-2.5 w-full text-black ".concat(e.class),value:c[e.name],onChange:e=>p(a,e),children:e.options.map(e=>(0,s.jsx)("option",{value:e.name,className:"text-black",children:e.name},e.id))}),["text","email","number","date","time"].includes(e.type)&&(0,s.jsx)("input",{id:e.name,type:e.type,name:e.name,placeholder:e.placeholder,className:"rounded-lg px-4 py-2.5 w-full ".concat(e.class),value:c[e.name],onChange:e=>p(a,e)}),"checkbox"===e.type&&(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",id:e.name,name:e.name,className:"sr-only ".concat(e.class),checked:c[e.name],onChange:t=>p(a,{target:{name:e.name,value:t.target.checked}})}),(0,s.jsx)("span",{className:"w-11 h-6 bg-gray-200 rounded-full"})]}),"password"===e.type&&(0,s.jsxs)("div",{className:"relative flex items-center",children:[(0,s.jsx)("input",{type:e.showPass?"text":"password",id:e.name,name:e.name,placeholder:e.placeholder,className:"rounded-lg px-4 py-2.5 w-full ".concat(e.class),value:c[e.name],onChange:e=>p(a,e)}),(0,s.jsx)("button",{type:"button",onClick:()=>u(a),className:"absolute right-3",children:e.showPass?"Hide":"Show"})]}),e.error&&(0,s.jsx)("div",{className:"text-red-500 text-xs mt-1",children:e.error})]},a)),o&&o,(0,s.jsx)("div",{className:(null==l?void 0:l.buttonPosition)||"w-full flex justify-start items-center col-span-2",children:(0,s.jsx)("button",{type:"button",onClick:()=>{let e=i.map(e=>({...e,error:h(e,c[e.name])}));d(e),e.every(e=>!e.error)&&n(c)},className:(null==l?void 0:l.button)||"mt-4 bg-[#A052C6] text-white w-full px-6 py-2.5 rounded-lg hover:bg-[#751ea0] mb-4",children:"Submit"})})]})}},7138:(e,a,t)=>{"use strict";t.d(a,{default:()=>r.a});var s=t(231),r=t.n(s)},6463:(e,a,t)=>{"use strict";var s=t(1169);t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}})}},e=>{var a=a=>e(e.s=a);e.O(0,[461,196,231,130,215,744],()=>a(6641)),_N_E=e.O()}]);